[id="conditional-step-inclusion_{context}"]
= Conditional Step Inclusion

It is possible to only include a given `@BuildStep` under certain conditions.  The `@BuildStep` annotation
has two optional parameters: `onlyIf` and `onlyIfNot`.  These parameters can be set to one or more classes
which implement `BooleanSupplier`.  The build step will only be included when the method returns
`true` (for `onlyIf`) or `false` (for `onlyIfNot`).

The condition class can inject <<configuration-roots,configuration roots>> as long as they belong to
a build-time phase.  Run time configuration is not available for condition classes.

The condition class may also inject a value of type `io.quarkus.runtime.LaunchMode`.
Constructor parameter and field injection is supported.

.An example of a conditional build step
[source,java,nowrap-option=""]
----
@BuildStep(onlyIf = IsDevMode.class)
LogCategoryBuildItem enableDebugLogging() {
    return new LogCategoryBuildItem("org.your.quarkus.extension", Level.DEBUG);
}

static class IsDevMode implements BooleanSupplier {
    LaunchMode launchMode;

    public boolean getAsBoolean() {
        return launchMode == LaunchMode.DEVELOPMENT;
    }
}
----

[id="enhanced-conversion_{context}"]
== Enhanced conversion
:context: enhanced-conversion
ifdef::context[:parent-context: {context}]
[id="deploying-the-application-in-openshift_{context}"]
= Deploying the application in OpenShift
:context: deploying-the-application-in-openshift

In this section, we are going to leverage the build mechanism of OpenShift. Run:

[source,shell]
----
# To build the image on OpenShift
oc new-build --binary --name=quarkus-quickstart -l app=quarkus-quickstart
oc patch bc/quarkus-quickstart -p "{\"spec\":{\"strategy\":{\"dockerStrategy\":{\"dockerfilePath\":\"src/main/docker/Dockerfile.native\"}}}}"
oc start-build quarkus-quickstart --from-dir=. --follow

# To instantiate the image
oc new-app --image-stream=quarkus-quickstart:latest

# To create the route
oc expose service quarkus-quickstart

# Get the route URL
export URL="http://$(oc get route | grep quarkus-quickstart | awk '{print $2}')"
echo "Application URL: $URL"
curl $URL/hello && echo
----

Your application is accessible at the printed URL.


ifdef::parent-context[:context: {parent-context}]
ifndef::parent-context[:!context:]